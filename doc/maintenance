Performing Maintenance
======================

Enter Maintenance Mode
----------------------

$ mb-maintenance [--sync/-s] -m MESSAGE -w WINDOW [OBJECTIDS...]

  * sanity checks (e.g. is OBJECTID already in maintenance?)
  * writes a record to /var/lib/mandelbrot/maintenance/<id>
  * spawns a subshell
  * updates PS1 with a '[MAINT]' tag
  * if sync is specified, then notify server about maintenance, and
    exit maintenance mode if notification fails.  otherwise, buffer
    the notification for later transmission if initial notification
    fails.


Modify Maintenance parameters
-----------------------------

Change maintenance window:

$ mb-maintenance-modify -m MESSAGE -w WINDOW
$ mb-maintenance-modify -m MESSAGE [--acquire/-a OBJECTID]...
$ mb-maintenance-modify -m MESSAGE [--release/-r OBJECTID]...


Exit Maintenance Mode
---------------------

$ exit

  * exists the subshell
  * closes record
